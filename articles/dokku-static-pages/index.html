<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Hosting static pages on Dokku - Florian Heinemann
    </title>
    <link rel="alternate" href="https://www.florianheinemann.com/feed.xml" type="application/rss+xml" title="on innovation, networks, privacy, and organizations">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:300|Cardo:400,400italic,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/main.css">
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-56516206-1', 'auto');
      ga('send', 'pageview');
      
    </script>
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>Hosting static pages on Dokku</h1>
        <p class="author">Written by <span class="author"><a href="mailto:florian.heinemann@gmail.com">Florian Heinemann</a></span>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>Surprisingly, Dokku (and also Heroku) <a href="https://github.com/progrium/buildstep/blob/master/builder/config/buildpacks.txt">doesn’t offer</a> you a straightforward option to deploy static websites. Sure, a lot of websites are anyway dynamic nowadays, but there is still plenty of need for static pages such as blogs created by the likes of <a href="http://wintersmith.io/">Wintersmith</a>.</p>
<p>The following steps will show you how to make it anyway happen with the help of a <a href="https://github.com/florianheinemann/buildpack-nginx">custom buildpack</a> that I’ve been working on. What it does is to compile and deploy a lightweight <a href="http://nginx.org/"><span class="caps">NGINX</span></a> instance that serves all the&nbsp;files.</p>
<p><span class="more"></span></p>
<p>All you have to do are the following three&nbsp;steps:</p>
<ol>
<li>Add a file called <code>.env</code> to the root of your website directory. The file should have the following content: <code>export BUILDPACK_URL=https://github.com/florianheinemann/buildpack-nginx.git</code></li>
<li>Add second, <em>empty</em> file called <code>.static</code> to the same&nbsp;directory</li>
<li>Push your project to Dokku: <code>git push [your server] master</code></li>
</ol>
<p>The static files that you want to host should be similarly in the root directory together with the <code>.env</code> and <code>.static</code> file. Don’t worry, those two files will not be&nbsp;served.</p>
<p>The first push will take a bit longer as the buildpack is downloading all the relevant source codes and compiling the packages, but every new push will reuse the already pre-compiled files making it a lot faster the second time&nbsp;round.</p>
<p>This buildpack has been successfully run on Digital Ocean instances of Ubuntu 14.04 and I assume that other configurations might work as well. Let me know if you successfully used the buildpack in different&nbsp;configurations.</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Full blog</a></div>
        <section class="about"><p>This is the personal blog of <a href="https://twitter.com/thesumofall">Florian Heinemann</a> who is a System Design and Management Fellow at MIT. I blog about innovation, privacy, networks, complexity, and organization theory. If you&#39;d like to get in touch with me you can reach me via <a href="http://www.linkedin.com/in/florianheinemann/">LinkedIn</a>, <a href="https://twitter.com/thesumofall">Twitter</a>, and <a href="mailto:florian.heinemann@gmail.com">email</a>.</p>

        </section>
        <section class="copy">
          <p>&copy; 2014 Florian Heinemann &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>